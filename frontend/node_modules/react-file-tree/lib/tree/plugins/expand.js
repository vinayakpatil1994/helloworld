'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = {
  onClick: function onClick(pluginOptions, e, node, nodeMetadata, index) {
    var _props = this.props;
    var controller = _props.controller;
    var _props$onExpand = _props.onExpand;
    var onExpand = _props$onExpand === undefined ? function () {} : _props$onExpand;
    var type = node.type;
    var path = node.path;
    var expanded = nodeMetadata.expanded;

    // Only expand directories if no meta or shift key is pressed

    if (type === 'directory' && !e.metaKey && !e.shiftKey) {
      var next = !expanded;

      controller.updateNodeMetadata(path, 'expanded', next);

      if (next) {
        controller.watchPath(path);
      }

      onExpand.call(this, e, node, nodeMetadata, index);
    }
  }
};